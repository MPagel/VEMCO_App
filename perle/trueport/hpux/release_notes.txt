============================================================================
           Perle TruePort Daemon and Driver for HP-UX
           Copyright (C) 2004-2008, Perle Systems Limited
=============================================================================

  Release           : 6.2.0
  Date              : September 2008 
  O/S Compatibility : HP-UX 11.X on 64 bit PA-RISC and Itanium 
                      (HP Integrity Servers) systems.

=============================================================================

Introduction: 
=============

This is the readme belonging to the Trueport for HP-UX software. 

TruePort creates standard UNIX TTY's in the /dev directory. Each TTY is 
connected to a unique TCP/IP port number on the device server. This port 
number is used to uniquely identify the port and the connection to the UNIX 
server computer.

TruePort is a virtual serial port device driver for the Perle Device/Terminal 
servers. This version will only install and operate correctly on HP-UX version
11.x for 64 bit PA-RISC and Itanium platforms.

TruePort for HP-UX is a TTY serial port emulation system for the  Perle
device/terminal server families. TruePort provides a standard TTY interface to 
application software which is achieved using the TruePort serial device driver.


Full TruePort protocol will allow an application to take full control of the 
remote serial port and use all functions available e.g. setting baud rates, flow
control settings and raising and lowering modem pins etc.

TruePort Lite Mode will allow an application to just transmit and receive data 
to and from the port.  Any baud rates or flow control settings must be 
configured on the terminal server before the application is started.

TruePort supports the following Perle hardware in TruePort Full Mode
protocol:
    - All IOLAN Models, including DS, TS, SDS, STS, SCS
    - JetStream 8500, JetStream 4000
    - LanStream 2000
    - LinkStream 2000.

It also supports IOLAN+ and other 3rd party multi-port terminal servers in Lite
(raw) mode.

NOTE: 	
For TruePort Full Mode the JetStream 8500, JetStream 4000 and LanStream 2000 
require firmware version 2.3.3 or later and the LinkStream 2000 requires 
version 6.04 or later.


Software Installation: 
======================

NOTE - Please remove any previous versions of TruePort software before 
attempting to install this product.

Installation uses the "swinstall" utility.

The Installable package is contained in the file: 

    tphpux11-<n.n.n>.depot.Z 
    
    where 
          <n.n.n> is the version number of the release.

This is a compressed software depot. Proceed as follows to install the software:

- Login as a root user and copy the installation package to /tmp.
- Decompress the depot.
    
    # uncompress tphpux11-<n.n.n>.depot.Z

- Run swinstall to install the product with the following command:
  swinstall -s <absolute path to depot file>
  For Example:
 
  # swinstall -s /tmp/tphpux11-<n.n.n>.depot

- When the SD Install - Software Selection window appears, select "TruePort" 
  in the "SD Install window, select "Actions->Mark for Install" followed 
  by selecting "Actions->Install"
- Follow the on screen instructions, you can view the product description and
  README when the files have been installed on the computer.
- When the installation is complete you will be prompted to click OK

NOTE:
  When selecting the TruePort bundle for installation, the “marked” status will 
  always be “partial”. This is due to both PA-RISC and Itanium components being 
  supplied in the product and is considered normal.

You can check that the software has been correctly installed with the 
lsdev command:

      # lsdev

In the list of installed devices, "tpm" and "tps" should be shown.

TruePort administrative files and utilities are now installed in the 
/etc/trueport directory.


Enabling Serial Ports
=====================

TruePort for HP-UX supports up to 4000 TruePort serial device nodes, however you 
must enable these ports before they can be used. Each installed TTY is assigned 
a name by the operating system; this will be in the range 0-3999.

To enable a range of ports, we have provided a script /etc/trueport/addports
that starts the TruePort service. The "addports" command creates the device
notes, edits the TruePort configuration files and starts the required daemons 
and drivers.  

The HP-UX TruePort serial device naming convention is as follows:

Client-Initiated and Full mode devices"
    /dev/ttys0 through /dev/ttys3999 for the non-modem open devices.
    /dev/ttyS0 through /dev/ttyS3999 for the modem open devices.
    /dev/ttyt0 through /dev/ttyt3999 for the pseudo modem open

Server-Initiated Lite mode devices:
    /dev/ttyX0 through /dev/ttyX3999

Once the "addports" command has configured the system, TruePort will be started 
automatically on each system reboot.

Once the ports have been enabled, you may use them as standard UNIX serial TTY's.

See the TruePort HP-UX User Guide for more information on the use of this 
script and other configuration utilities.

Known Issues and Bugs
=====================

1. TCGETX / TXSETX - a streams patch to HP-UX 11.0 is required before these
   IOCTLs to enable hardware flow control will work. The patch number is TBD.
   HP-UX 10 does not support this hardware flow control.

2. This release includes code to work around a specific HP-UX STREAMS open
   issue with multiple open tty devices. It is possible that HP-UX will
   allocate an invalid STREAM under certain conditions if 2 processes try to
   open the same device simultaneously. In order to prevent the resulting
   invalid condition occurring, the TruePort drivers have been modified to
   return an error condition to the second of the two process ( errno set to
   EAGAIN ). The second process should retry the open. The second open will
   succeed after the first open has completed. HP are aware of this issue and
   may release a patch at a future date.


Release History
===============

  Version     Description
  -------     -----------
   6.2.0      * Detection and support of running TruePort Full mode with no UDP 
                protocol
              * IPv6 addressing support
   6.1.0      * Resolved serial driver incompatability issues.
              * Added new configuration fields
              * added support for 11iv3
   6.0.0      * Added Client initiated mode which will initiate the TCP
                connection from the TruePort host when the application opens
                the TTY device.
              * Added Client I/O Access which allows Modbus Serial ASCII/RTU 
                applications or custom applications using the Perle I/O API 
                to access I/O register from Perle IOLAN DS devices.
              * Added Packet Forwarding feature which allows you to conntrol 
                how HP-UX application data is packetized before it is sent 
                over the network.
              * Allow specifying of IP address or DNS name for server mode
   5.1.0      * Maintenance release
   5.0.1      * Added trueport daemon feature to autopush 'ptem' and 'ldterm'
                on to a lite mode device node. This is required for getty and
                login process.
   5.0.0      * First release for HP-UX 11iv2 for Itanium platforms
              * Added support for SSL connection feature and hangup feature.
              * The version number jumped to 5.0.0 so that all versions of 
                TruePort with SSL would be at the same level.
   1.1.0      * The number of Trueport device nodes supported was increased to 
                4000 devices.
              * The "addports" script and the "tpadm" utility was modified to 
                increase the performance when adding a large number of device 
                nodes.           
   1.0.1      * Added code to work around a HP-UX 11 STREAMS open issue as
                described in the Known Issues and Bugs item 2 above.
   1.0.0      * First release for HP-UX 11.0 for 64-bit PA-RISC HP 9000 systems.

